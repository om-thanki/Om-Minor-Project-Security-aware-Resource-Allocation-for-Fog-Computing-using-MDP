# Security-aware Resource Allocation for Fog Computing using MDP

This project uses a Markov Decision Process (MDP) to solve the resource allocation problem in fog computing. The goal is to map security-critical application modules to the right devices (Cloud, Fog, or Edge) while balancing security risks, resource usage, and performance overhead.

I compared the MDP approach against a Genetic Algorithm (GA) baseline and validated the results using the iFogSim2 simulator.

---

## Project Flow

The workflow is simple: **Define → Solve → Simulate**.

1.  **Define**: Set up the problem (devices, modules, security requirements) in `scenario.json`.
2.  **Solve**: Run the Python scripts to generate allocation policies (one using MDP, one using GA).
3.  **Simulate**: Run the Java simulation to apply these policies in iFogSim2 and compare the results.

---

## File Overview

### 1. Configuration
*   **`scenario.json`**: Defines the problem setup. It lists 25 application modules (like Video Analytics, Traffic Control) and 11 devices, specifying their security levels (1-5) and hardware specs.
*   **`simulation_config.json`**: The config file for iFogSim2. It defines the physical network topology, sensors, actuators, and device hierarchy.

### 2. Policy Generators (Python)
These scripts read the scenario and generate JSON policy files.

*   **`mdp_policy_generator.py`**: Solves the allocation problem using MDP (Value Iteration). It guarantees the mathematically optimal solution.
*   **`ga_policy_generator.py`**: Solves the same problem using a Genetic Algorithm (NSGA-II). This serves as a baseline for comparison.

### 3. Simulation (Java)
*   **`SmartCitySimulation.java`**: The main Java program. It:
    1.  Builds the fog infrastructure in iFogSim2.
    2.  Loads the policies generated by the Python scripts (`mdp_policy.json` and `ga_policy.json`).
    3.  Applies them to the simulation.
    4.  Prints a comparison of the results (Security Compliance, Rewards, and Execution Time).

### 4. Output Files
*   **`mdp_policy.json`** & **`ga_policy.json`**: The actual output files containing the mapping of which module goes to which device, along with the performance metrics for that policy.

---

## How to Run

1.  **Generate the Policies**:
    ```
    python mdp_policy_generator.py
    python ga_policy_generator.py
    ```

2.  **Run the Simulation**:
    Open the project in Eclipse (or your preferred IDE), ensure the iFogSim2 libraries are added, and run `SmartCitySimulation.java`.

---

## Tech Stack

*   **Python**: `numpy`, `mdptoolbox`, `deap` (for the algorithms)
*   **Java**: `iFogSim2`, `CloudSim` (for the simulation environment)
